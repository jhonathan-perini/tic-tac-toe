{"ast":null,"code":"import _toConsumableArray from\"/Users/jhonathanperini/Movies/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/jhonathanperini/Movies/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// @ts-nocheck\nimport{useEffect,useState}from\"react\";import'./index.css';import skull from'./assets/skull.svg';import pumpkin from'./assets/pumpkin.png';import{motion}from\"framer-motion\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Board=function Board(_ref){var _onClick=_ref.onClick,squares=_ref.squares;useEffect(function(){window.localStorage.setItem('squares',JSON.stringify(squares));},[squares]);function renderSquare(index){// eslint-disable-next-line no-unused-expressions\nreturn/*#__PURE__*/_jsx(\"button\",{className:\"square\",onClick:function onClick(){return _onClick(index);},children:squares[index]==='O'?/*#__PURE__*/_jsx(\"img\",{src:skull,alt:\"skull\"}):squares[index]==='X'?/*#__PURE__*/_jsx(\"img\",{src:pumpkin,className:\"pump\",alt:\"skull\"}):null});}return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"board-row\",children:[renderSquare(0),renderSquare(1),renderSquare(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"board-row\",children:[renderSquare(3),renderSquare(4),renderSquare(5)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"board-row\",children:[renderSquare(6),renderSquare(7),renderSquare(8)]})]});};function calculateNextValue(squares){return squares.filter(Boolean).length%2===0?'X':'O';}function teste(nextValue,winner){var val=winner?winner:nextValue;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'row',alignItems:'center',justifyContent:'center'},children:[winner?'Winner is: ':'Next player: ',/*#__PURE__*/_jsx(\"img\",{src:val==='O'?skull:pumpkin,alt:\"skull\",className:\"rowImg\"})]});}function calculateStatus(winner,squares,nextValue){return winner?teste(nextValue,winner):squares.every(Boolean)?\"Scratch: Cat's game\":teste(nextValue,null);}function calculateWinner(squares){var lines=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(var i=0;i<lines.length;i++){var _lines$i=_slicedToArray(lines[i],3),a=_lines$i[0],b=_lines$i[1],c=_lines$i[2];if(squares[a]&&squares[a]===squares[b]&&squares[a]===squares[c]){return squares[a];}}return null;}function Game(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),currentStep=_useState2[0],setCurrentStep=_useState2[1];var _useState3=useState([Array(9).fill(null)]),_useState4=_slicedToArray(_useState3,2),history=_useState4[0],setHistory=_useState4[1];var currentSquares=history[currentStep];var nextValue=calculateNextValue(currentSquares);var winner=calculateWinner(currentSquares);var status=calculateStatus(winner,currentSquares,nextValue);var moves=history.map(function(stepSquares,step){var desc=step===0?\"Go to game start\":\"Go to move #\".concat(step);var isCurrentStep=step===currentStep;return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{disabled:isCurrentStep,onClick:function onClick(){return setCurrentStep(step);},children:[desc,\" \",isCurrentStep?'(current)':null]})},step);});function selectSquare(square){if(winner||currentSquares[square])return;var squaresCopy=_toConsumableArray(currentSquares);var newHistory=history.slice(0,currentStep+1);squaresCopy[square]=nextValue;setHistory([].concat(_toConsumableArray(newHistory),[squaresCopy]));setCurrentStep(newHistory.length);}function restart(){setHistory([Array(9).fill(null)]);setCurrentStep(0);}return/*#__PURE__*/_jsxs(motion.div,{className:\"game\",initial:{opacity:0},animate:{opacity:1},children:[/*#__PURE__*/_jsxs(\"div\",{style:{boxShadow:' inset 5px 5px  30px 20px rgba(0, 0, 0, 0.2)',height:'100vh',width:'18rem',backgroundColor:'#252422',display:'flex',flexDirection:'column',justifyContent:'flex-start',border:'1px solid rgb(255,255,255,0.1)'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontFamily:'SomethingStrange',color:'white',marginLeft:'1rem'},children:\"History\"}),/*#__PURE__*/_jsx(\"p\",{class:\"item-list\",children:moves})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-board\",children:[/*#__PURE__*/_jsx(\"h2\",{children:status}),/*#__PURE__*/_jsx(Board,{onClick:selectSquare,squares:currentSquares}),/*#__PURE__*/_jsx(\"button\",{className:\"restart-button\",onClick:restart,children:\"Restart\"})]})]});}export default Game;","map":{"version":3,"names":["useEffect","useState","skull","pumpkin","motion","Board","onClick","squares","window","localStorage","setItem","JSON","stringify","renderSquare","index","calculateNextValue","filter","Boolean","length","teste","nextValue","winner","val","display","flexDirection","alignItems","justifyContent","calculateStatus","every","calculateWinner","lines","i","a","b","c","Game","currentStep","setCurrentStep","Array","fill","history","setHistory","currentSquares","status","moves","map","stepSquares","step","desc","isCurrentStep","selectSquare","square","squaresCopy","newHistory","slice","restart","opacity","boxShadow","height","width","backgroundColor","border","fontFamily","color","marginLeft"],"sources":["/Users/jhonathanperini/Movies/tic-tac-toe/src/GameScreen.jsx"],"sourcesContent":["// @ts-nocheck\nimport { useEffect, useState } from \"react\"\nimport './index.css'\nimport skull from './assets/skull.svg'\nimport pumpkin from './assets/pumpkin.png'\nimport { motion } from \"framer-motion\"\nconst Board = ({onClick, squares}) => {\n\n    useEffect(() => {\n      window.localStorage.setItem('squares', JSON.stringify(squares))\n    }, [squares])\n\n    function renderSquare(index){\n\n      // eslint-disable-next-line no-unused-expressions\n        return (\n            <button className='square' onClick={() => onClick(index)}>\n                {squares[index] === 'O' ? <img src={skull} alt=\"skull\" /> : squares[index] === 'X' ? <img src={pumpkin}className=\"pump\" alt=\"skull\" /> : null}\n            </button>\n        )\n    }\n    return (\n        <section > \n        \n            <div className=\"board-row\">\n                {renderSquare(0)}\n                {renderSquare(1)}\n                {renderSquare(2)}\n            </div>\n            <div className=\"board-row\">\n                {renderSquare(3)}\n                {renderSquare(4)}\n                {renderSquare(5)}\n            </div>\n            <div className=\"board-row\">\n                {renderSquare(6)}\n                {renderSquare(7)}\n                {renderSquare(8)}\n            </div>\n          \n        </section>\n    )\n    }\n    function calculateNextValue(squares) {\n        return squares.filter(Boolean).length % 2 === 0 ? 'X' : 'O'\n      }\n\n   \n      function teste (nextValue, winner) {\nconst val = winner ? winner : nextValue;\n          return (\n     <div style={{display: 'flex', flexDirection: 'row', alignItems: 'center', justifyContent: 'center'}}>\n{winner ? 'Winner is: ' : 'Next player: '}\n    <img src={val === 'O' ? skull : pumpkin} alt=\"skull\" className=\"rowImg\" />\n    </div> \n          )\n      }\n\n      function calculateStatus(winner, squares, nextValue) {\n        return winner\n          ? teste(nextValue, winner)\n \n          : squares.every(Boolean)\n          ? `Scratch: Cat's game`\n          : teste(nextValue, null)\n      }\n\n      function calculateWinner(squares) {\n        const lines = [\n          [0, 1, 2],\n          [3, 4, 5],\n          [6, 7, 8],\n          [0, 3, 6],\n          [1, 4, 7],\n          [2, 5, 8],\n          [0, 4, 8],\n          [2, 4, 6],\n        ]\n        for (let i = 0; i < lines.length; i++) {\n          const [a, b, c] = lines[i]\n          if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n            return squares[a]\n          }\n        }\n        return null\n      }\n\n\nfunction Game() {\n  const [currentStep, setCurrentStep] = useState(0)\n  const [history, setHistory] = useState(  [Array(9).fill(null)])\n  const currentSquares = history[currentStep]\n  const nextValue = calculateNextValue(currentSquares)\n  const winner = calculateWinner(currentSquares)\n  const status = calculateStatus(winner, currentSquares, nextValue)\n\n\n\n    const moves = history.map((stepSquares, step) => {\n      const desc = step === 0 ? `Go to game start` : `Go to move #${step}`\n      const isCurrentStep = step === currentStep\n      return <li key={step}>\n        <button disabled={isCurrentStep} onClick={() => setCurrentStep(step)}>{desc} {isCurrentStep ? '(current)': null }</button>\n      </li>\n    })\n  function selectSquare(square){\n    if(winner || currentSquares[square]) return \n    const squaresCopy = [...currentSquares]\n    const newHistory = history.slice(0, currentStep +1)\n    squaresCopy[square] = nextValue\n    setHistory([...newHistory, squaresCopy])\n    setCurrentStep(newHistory.length)\n}\nfunction restart () {\n  setHistory([Array(9).fill(null)])\n  setCurrentStep(0)\n}\n    return (\n      <motion.div className=\"game\" initial={{opacity: 0}} animate={{opacity: 1}}>\n \n           <div style={{ boxShadow:  ' inset 5px 5px  30px 20px rgba(0, 0, 0, 0.2)' ,height: '100vh', width: '18rem', backgroundColor: '#252422', display: 'flex', flexDirection: 'column', justifyContent: 'flex-start', border: '1px solid rgb(255,255,255,0.1)'}}>\n           <h1 style={{fontFamily: 'SomethingStrange', color: 'white',  marginLeft: '1rem'}}>History</h1>\n             <p class='item-list'>{moves}</p>\n             </div>\n        <div className=\"game-board\">\n        <h2>{status}</h2>\n          <Board onClick={selectSquare} squares={currentSquares} />\n          <button className=\"restart-button\" onClick={restart}>Restart</button>\n        </div>\n      \n       \n      </motion.div>\n    )\n  }\n\n\n\n\n  export default Game\n\n"],"mappings":"sQAAA;AACA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAO,aAAP,CACA,MAAOC,MAAP,KAAkB,oBAAlB,CACA,MAAOC,QAAP,KAAoB,sBAApB,CACA,OAASC,MAAT,KAAuB,eAAvB,C,wFACA,GAAMC,MAAK,CAAG,QAARA,MAAQ,MAAwB,IAAtBC,SAAsB,MAAtBA,OAAsB,CAAbC,OAAa,MAAbA,OAAa,CAElCP,SAAS,CAAC,UAAM,CACdQ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,SAA5B,CAAuCC,IAAI,CAACC,SAAL,CAAeL,OAAf,CAAvC,EACD,CAFQ,CAEN,CAACA,OAAD,CAFM,CAAT,CAIA,QAASM,aAAT,CAAsBC,KAAtB,CAA4B,CAE1B;AACE,mBACI,eAAQ,SAAS,CAAC,QAAlB,CAA2B,OAAO,CAAE,yBAAMR,SAAO,CAACQ,KAAD,CAAb,EAApC,UACKP,OAAO,CAACO,KAAD,CAAP,GAAmB,GAAnB,cAAyB,YAAK,GAAG,CAAEZ,KAAV,CAAiB,GAAG,CAAC,OAArB,EAAzB,CAA2DK,OAAO,CAACO,KAAD,CAAP,GAAmB,GAAnB,cAAyB,YAAK,GAAG,CAAEX,OAAV,CAAkB,SAAS,CAAC,MAA5B,CAAmC,GAAG,CAAC,OAAvC,EAAzB,CAA6E,IAD7I,EADJ,CAKH,CACD,mBACI,wCAEI,aAAK,SAAS,CAAC,WAAf,WACKU,YAAY,CAAC,CAAD,CADjB,CAEKA,YAAY,CAAC,CAAD,CAFjB,CAGKA,YAAY,CAAC,CAAD,CAHjB,GAFJ,cAOI,aAAK,SAAS,CAAC,WAAf,WACKA,YAAY,CAAC,CAAD,CADjB,CAEKA,YAAY,CAAC,CAAD,CAFjB,CAGKA,YAAY,CAAC,CAAD,CAHjB,GAPJ,cAYI,aAAK,SAAS,CAAC,WAAf,WACKA,YAAY,CAAC,CAAD,CADjB,CAEKA,YAAY,CAAC,CAAD,CAFjB,CAGKA,YAAY,CAAC,CAAD,CAHjB,GAZJ,GADJ,CAqBC,CApCL,CAqCI,QAASE,mBAAT,CAA4BR,OAA5B,CAAqC,CACjC,MAAOA,QAAO,CAACS,MAAR,CAAeC,OAAf,EAAwBC,MAAxB,CAAiC,CAAjC,GAAuC,CAAvC,CAA2C,GAA3C,CAAiD,GAAxD,CACD,CAGD,QAASC,MAAT,CAAgBC,SAAhB,CAA2BC,MAA3B,CAAmC,CACzC,GAAMC,IAAG,CAAGD,MAAM,CAAGA,MAAH,CAAYD,SAA9B,CACU,mBACL,aAAK,KAAK,CAAE,CAACG,OAAO,CAAE,MAAV,CAAkBC,aAAa,CAAE,KAAjC,CAAwCC,UAAU,CAAE,QAApD,CAA8DC,cAAc,CAAE,QAA9E,CAAZ,WACJL,MAAM,CAAG,aAAH,CAAmB,eADrB,cAED,YAAK,GAAG,CAAEC,GAAG,GAAK,GAAR,CAAcpB,KAAd,CAAsBC,OAAhC,CAAyC,GAAG,CAAC,OAA7C,CAAqD,SAAS,CAAC,QAA/D,EAFC,GADK,CAMH,CAED,QAASwB,gBAAT,CAAyBN,MAAzB,CAAiCd,OAAjC,CAA0Ca,SAA1C,CAAqD,CACnD,MAAOC,OAAM,CACTF,KAAK,CAACC,SAAD,CAAYC,MAAZ,CADI,CAGTd,OAAO,CAACqB,KAAR,CAAcX,OAAd,wBAEAE,KAAK,CAACC,SAAD,CAAY,IAAZ,CALT,CAMD,CAED,QAASS,gBAAT,CAAyBtB,OAAzB,CAAkC,CAChC,GAAMuB,MAAK,CAAG,CACZ,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CADY,CAEZ,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAFY,CAGZ,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAHY,CAIZ,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAJY,CAKZ,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CALY,CAMZ,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CANY,CAOZ,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAPY,CAQZ,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CARY,CAAd,CAUA,IAAK,GAAIC,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGD,KAAK,CAACZ,MAA1B,CAAkCa,CAAC,EAAnC,CAAuC,CACrC,4BAAkBD,KAAK,CAACC,CAAD,CAAvB,IAAOC,CAAP,aAAUC,CAAV,aAAaC,CAAb,aACA,GAAI3B,OAAO,CAACyB,CAAD,CAAP,EAAczB,OAAO,CAACyB,CAAD,CAAP,GAAezB,OAAO,CAAC0B,CAAD,CAApC,EAA2C1B,OAAO,CAACyB,CAAD,CAAP,GAAezB,OAAO,CAAC2B,CAAD,CAArE,CAA0E,CACxE,MAAO3B,QAAO,CAACyB,CAAD,CAAd,CACD,CACF,CACD,MAAO,KAAP,CACD,CAGP,QAASG,KAAT,EAAgB,CACd,cAAsClC,QAAQ,CAAC,CAAD,CAA9C,wCAAOmC,WAAP,eAAoBC,cAApB,eACA,eAA8BpC,QAAQ,CAAG,CAACqC,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,CAAc,IAAd,CAAD,CAAH,CAAtC,yCAAOC,OAAP,eAAgBC,UAAhB,eACA,GAAMC,eAAc,CAAGF,OAAO,CAACJ,WAAD,CAA9B,CACA,GAAMhB,UAAS,CAAGL,kBAAkB,CAAC2B,cAAD,CAApC,CACA,GAAMrB,OAAM,CAAGQ,eAAe,CAACa,cAAD,CAA9B,CACA,GAAMC,OAAM,CAAGhB,eAAe,CAACN,MAAD,CAASqB,cAAT,CAAyBtB,SAAzB,CAA9B,CAIE,GAAMwB,MAAK,CAAGJ,OAAO,CAACK,GAAR,CAAY,SAACC,WAAD,CAAcC,IAAd,CAAuB,CAC/C,GAAMC,KAAI,CAAGD,IAAI,GAAK,CAAT,0CAAiDA,IAAjD,CAAb,CACA,GAAME,cAAa,CAAGF,IAAI,GAAKX,WAA/B,CACA,mBAAO,iCACL,gBAAQ,QAAQ,CAAEa,aAAlB,CAAiC,OAAO,CAAE,yBAAMZ,eAAc,CAACU,IAAD,CAApB,EAA1C,WAAuEC,IAAvE,KAA8EC,aAAa,CAAG,WAAH,CAAgB,IAA3G,GADK,EAASF,IAAT,CAAP,CAGD,CANa,CAAd,CAOF,QAASG,aAAT,CAAsBC,MAAtB,CAA6B,CAC3B,GAAG9B,MAAM,EAAIqB,cAAc,CAACS,MAAD,CAA3B,CAAqC,OACrC,GAAMC,YAAW,oBAAOV,cAAP,CAAjB,CACA,GAAMW,WAAU,CAAGb,OAAO,CAACc,KAAR,CAAc,CAAd,CAAiBlB,WAAW,CAAE,CAA9B,CAAnB,CACAgB,WAAW,CAACD,MAAD,CAAX,CAAsB/B,SAAtB,CACAqB,UAAU,8BAAKY,UAAL,GAAiBD,WAAjB,GAAV,CACAf,cAAc,CAACgB,UAAU,CAACnC,MAAZ,CAAd,CACH,CACD,QAASqC,QAAT,EAAoB,CAClBd,UAAU,CAAC,CAACH,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,CAAc,IAAd,CAAD,CAAD,CAAV,CACAF,cAAc,CAAC,CAAD,CAAd,CACD,CACG,mBACE,MAAC,MAAD,CAAQ,GAAR,EAAY,SAAS,CAAC,MAAtB,CAA6B,OAAO,CAAE,CAACmB,OAAO,CAAE,CAAV,CAAtC,CAAoD,OAAO,CAAE,CAACA,OAAO,CAAE,CAAV,CAA7D,wBAEK,aAAK,KAAK,CAAE,CAAEC,SAAS,CAAG,8CAAd,CAA8DC,MAAM,CAAE,OAAtE,CAA+EC,KAAK,CAAE,OAAtF,CAA+FC,eAAe,CAAE,SAAhH,CAA2HrC,OAAO,CAAE,MAApI,CAA4IC,aAAa,CAAE,QAA3J,CAAqKE,cAAc,CAAE,YAArL,CAAmMmC,MAAM,CAAE,gCAA3M,CAAZ,wBACA,WAAI,KAAK,CAAE,CAACC,UAAU,CAAE,kBAAb,CAAiCC,KAAK,CAAE,OAAxC,CAAkDC,UAAU,CAAE,MAA9D,CAAX,qBADA,cAEE,UAAG,KAAK,CAAC,WAAT,UAAsBpB,KAAtB,EAFF,GAFL,cAME,aAAK,SAAS,CAAC,YAAf,wBACA,oBAAKD,MAAL,EADA,cAEE,KAAC,KAAD,EAAO,OAAO,CAAEO,YAAhB,CAA8B,OAAO,CAAER,cAAvC,EAFF,cAGE,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAEa,OAA5C,qBAHF,GANF,GADF,CAgBD,CAKD,cAAepB,KAAf"},"metadata":{},"sourceType":"module"}